# Learnings

Auto-generated by self-improving-agent skill.

<!-- Learnings are logged in the format: ## [LRN-YYYYMMDD-XXX] category -->


## [LRN-20260202-001] multiple-gateway-processes-cause-auth-issues

**Logged**: 2026-02-02T23:09:00Z
**Priority**: high
**Status**: resolved
**Area**: infra

### Summary
Multiple OpenClaw Gateway processes running simultaneously cause authentication confusion and "token_mismatch" errors. The LaunchAgent service and manual gateway starts both running creates duplicate processes.

### Details
During LiveAvatar setup, two gateway processes were running:
- One from LaunchAgent service (ai.openclaw.gateway)
- One started manually via `openclaw gateway` command

Both processes used the same port (18789) and same token, but the client (LiveAvatar) kept connecting to the "wrong" one or encountering race conditions.

### Suggested Action
1. Always use `openclaw gateway stop` or `launchctl stop ai.openclaw.gateway` before starting a new gateway manually
2. Use `ps aux | grep gateway` to check for existing processes
3. Consider using `openclaw gateway restart` to refresh the service

### Metadata
- Source: error
- Related Files: ~/.openclaw/openclaw.json
- Tags: gateway, authentication, debugging

---
